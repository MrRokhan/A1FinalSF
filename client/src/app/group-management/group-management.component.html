<div class="container">
  <h2 class="text-center my-4">Group Management</h2>

  <!-- Group List -->
  <div class="card mb-4">
    <div class="card-header">
      <h4 class="card-title">Groups</h4>
    </div>
    <ul class="list-group list-group-flush">
      <li *ngFor="let group of groups" class="list-group-item d-flex justify-content-between align-items-center">
        {{ group.name }}
        <div>
          <button class="btn btn-primary btn-sm" (click)="selectGroup(group)">Manage</button>
          <button class="btn btn-danger btn-sm" (click)="deleteGroup(group.id)">Delete</button>
        </div>
      </li>
    </ul>
  </div>

  <!-- Create New Group -->
  <div class="card mb-4">
    <div class="card-header">
      <h4 class="card-title">Create New Group</h4>
    </div>
    <div class="card-body">
      <div class="form-group">
        <input [(ngModel)]="newGroupName" class="form-control" placeholder="Group Name" />
      </div>
      <button class="btn btn-success mt-3" (click)="createGroup()">Create Group</button>
    </div>
  </div>

  <!-- Selected Group Management -->
  <div *ngIf="selectedGroup" class="card">
    <div class="card-header">
      <h4 class="card-title">Manage Group: {{ selectedGroup.name }}</h4>
    </div>
    <div class="card-body">
      <!-- Add Channel -->
      <h5>Add Channel</h5>
      <div class="form-group">
        <input [(ngModel)]="newChannelName" class="form-control" placeholder="Channel Name" />
      </div>
      <button class="btn btn-primary mt-3" (click)="addChannel()">Add Channel</button>

      <!-- List Channels -->
      <h5 class="mt-4">Channels</h5>
      <ul class="list-group mb-4">
        <li *ngFor="let channel of selectedGroup.channels" class="list-group-item d-flex justify-content-between align-items-center">
          {{ channel }}
          <button class="btn btn-danger btn-sm" (click)="removeChannel(channel)">Remove</button>
        </li>
      </ul>

      <!-- Add User to Group -->
      <h5>Add User to Group</h5>
      <div class="form-group">
        <select [(ngModel)]="newUserToAdd" class="form-control">
          <option *ngFor="let user of availableUsers" [value]="user">{{ user }}</option>
        </select>
      </div>
      <button class="btn btn-primary mt-3" (click)="addUserToGroup()">Add User</button>

      <!-- List Users in Group -->
      <h5 class="mt-4">Users</h5>
      <ul class="list-group">
        <li *ngFor="let user of selectedGroup.users" class="list-group-item d-flex justify-content-between align-items-center">
          {{ user }}
          <button class="btn btn-danger btn-sm" (click)="removeUserFromGroup(user)">Remove</button>
        </li>
      </ul>
    </div>
  </div>
</div>
